{{! popper & bootstrap js }}
<script
  src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
  integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
  crossorigin="anonymous"
></script>

<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
  integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
  crossorigin="anonymous"
></script>

{{! app scripts }}

{{#if view.signup}}
  <script async defer src="/scripts/auth/signup.js"></script>
{{/if}}

{{#if view.login}}
  <script async defer src="/scripts/auth/login.js"></script>
{{/if}}

{{#if view.new_post}}
  <script async defer src="/scripts/post/new.js"></script>
{{/if}}

{{#if view.edit_post}}
  <script async defer src="/scripts/post/edit.js"></script>
{{/if}}

{{#if logged_in}}
  <script async defer src="/scripts/auth/logout.js"></script>

  {{#if view.single_post}}
    <script async defer src="/scripts/comment/new.js"></script>

    {{#if post.editable}}
      <script async defer src="/scripts/post/edit.js"></script>
    {{/if}}

  {{/if}}
{{/if}}

<script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
<script>
  const socket = io(); socket.io.on("reconnect", () => { window.location.reload() });
</script>